<div class="methods-page">

  <div class="methods-header">
    <h1>âš™ï¸ MÃ©thodes ML</h1>
    <p class="methods-subtitle">Comprendre .fit(), .transform(), .predict() et les autres â€” la logique unifiÃ©e</p>
  </div>

  <!-- Mental model -->
  <div class="methods-mental-model">
    <div class="mental-phase mp-purple">
      <div class="mp-icon">ğŸ§ </div>
      <div class="mp-label">Apprendre</div>
      <div class="mp-methods">.fit() .compile()</div>
    </div>
    <div class="mental-arrow">â†’</div>
    <div class="mental-phase mp-cyan">
      <div class="mp-icon">ğŸ”„</div>
      <div class="mp-label">Transformer</div>
      <div class="mp-methods">.transform() .fit_transform()</div>
    </div>
    <div class="mental-arrow">â†’</div>
    <div class="mental-phase mp-green">
      <div class="mp-icon">ğŸ¯</div>
      <div class="mp-label">PrÃ©dire</div>
      <div class="mp-methods">.predict() .predict_proba()</div>
    </div>
    <div class="mental-arrow">â†’</div>
    <div class="mental-phase mp-yellow">
      <div class="mp-icon">ğŸ“</div>
      <div class="mp-label">Ã‰valuer</div>
      <div class="mp-methods">.score() .evaluate()</div>
    </div>
  </div>

  <div class="methods-golden-rule">
    <strong>ğŸ”‘ La rÃ¨gle d'or :</strong> <code>fit</code> sur le train, <code>transform</code> / <code>predict</code> sur le test. Si tu <code>fit</code> sur le test, c'est du data leakage.
  </div>

  <!-- Methods by phase -->
  <% @phases.each do |phase| %>
    <% phase_methods = @methods.select { |m| m[:phase] == phase } %>
    <% first = phase_methods.first %>
    <div class="methods-phase-header phase-<%= first[:phase_color] %>">
      <span><%= first[:phase_icon] %></span>
      <span>Phase : <%= phase %></span>
    </div>

    <% phase_methods.each do |m| %>
      <div class="method-card mc-<%= m[:phase_color] %>">
        <div class="method-card-header">
          <h3 class="method-name"><%= m[:method] %></h3>
          <div class="method-frameworks">
            <% m[:frameworks].each do |fw| %>
              <span class="fw-badge fw-<%= fw %>"><%= fw %></span>
            <% end %>
          </div>
        </div>
        <p class="method-short"><%= m[:short] %></p>
        <p class="method-explain"><%= m[:explain] %></p>

        <div class="method-examples">
          <% m[:examples].each do |ex| %>
            <div class="method-example">
              <span class="me-context"><%= ex[:context] %></span>
              <code class="me-code"><%= ex[:code] %></code>
              <% if ex[:learns].present? %>
                <span class="me-learns">â†’ <%= ex[:learns] %></span>
              <% end %>
            </div>
          <% end %>
        </div>

        <div class="method-rule"><%= m[:rule] %></div>
      </div>
    <% end %>
  <% end %>

  <!-- Comparison table -->
  <div class="methods-table-section">
    <h2>ğŸ“‹ Tableau rÃ©capitulatif</h2>
    <div class="methods-table-wrap">
      <table class="methods-table">
        <thead>
          <tr>
            <th>MÃ©thode</th>
            <th>Phase</th>
            <th>Fait quoi</th>
            <th>sklearn</th>
            <th>keras</th>
          </tr>
        </thead>
        <tbody>
          <tr><td><code>.fit()</code></td><td>ğŸ§ </td><td>Apprend des donnÃ©es</td><td>âœ…</td><td>âœ…</td></tr>
          <tr><td><code>.compile()</code></td><td>ğŸ§ </td><td>Configure avant fit</td><td>âŒ</td><td>âœ…</td></tr>
          <tr><td><code>.transform()</code></td><td>ğŸ”„</td><td>Applique la transfo</td><td>âœ…</td><td>âŒ</td></tr>
          <tr><td><code>.fit_transform()</code></td><td>ğŸ”„</td><td>fit + transform (train only!)</td><td>âœ…</td><td>âŒ</td></tr>
          <tr><td><code>.predict()</code></td><td>ğŸ¯</td><td>Donne la rÃ©ponse</td><td>âœ…</td><td>âœ…</td></tr>
          <tr><td><code>.predict_proba()</code></td><td>ğŸ¯</td><td>Donne la probabilitÃ©</td><td>âœ…</td><td>âŒ</td></tr>
          <tr><td><code>.fit_predict()</code></td><td>ğŸ¯</td><td>fit + predict (clustering)</td><td>âœ…</td><td>âŒ</td></tr>
          <tr><td><code>.score()</code></td><td>ğŸ“</td><td>Accuracy ou RÂ²</td><td>âœ…</td><td>âŒ</td></tr>
          <tr><td><code>.evaluate()</code></td><td>ğŸ“</td><td>Loss + mÃ©triques</td><td>âŒ</td><td>âœ…</td></tr>
          <tr><td><code>cross_val_score()</code></td><td>ğŸ“</td><td>K-fold validation</td><td>âœ…</td><td>âŒ</td></tr>
          <tr><td><code>.summary()</code></td><td>ğŸ”§</td><td>Architecture du rÃ©seau</td><td>âŒ</td><td>âœ…</td></tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
