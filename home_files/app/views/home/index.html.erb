<div class="home-page">

  <!-- â•â• HERO â•â• -->
  <div class="home-hero">
    <div class="home-hero-icon">ğŸ§ </div>
    <h1 class="home-hero-title">Workflow du Wagon</h1>
    <p class="home-hero-sub">Tout le cursus Data Science du Wagon en workflows interactifs, code commentÃ© et explications visuelles.</p>
    <a href="/workflows/preprocessing" class="home-hero-btn">
      <span>ğŸš€</span> Commencer par le Preprocessing
    </a>
  </div>

  <!-- â•â• PARCOURS D'APPRENTISSAGE â•â• -->
  <section class="home-section">
    <h2 class="home-section-title">ğŸ“ Parcours d'apprentissage</h2>
    <p class="home-section-sub">Suis les Ã©tapes dans l'ordre â€” chaque bloc s'appuie sur le prÃ©cÃ©dent.</p>

    <div class="home-parcours">
      <% @parcours.each_with_index do |p, idx| %>
        <div class="parcours-block pb-<%= p[:color] %>">
          <div class="parcours-header">
            <span class="parcours-num"><%= idx + 1 %></span>
            <span class="parcours-icon"><%= p[:icon] %></span>
            <div>
              <div class="parcours-label"><%= p[:label] %></div>
              <div class="parcours-desc"><%= p[:description] %></div>
            </div>
          </div>
          <div class="parcours-workflows">
            <% p[:workflows].each do |w| %>
              <a href="<%= workflow_path(w[:slug]) %>" class="parcours-wf">
                <span class="parcours-wf-icon"><%= w[:icon] %></span>
                <span class="parcours-wf-title"><%= w[:title] %></span>
              </a>
            <% end %>
          </div>
        </div>
        <% if idx < @parcours.length - 1 %>
          <div class="parcours-arrow">â†“</div>
        <% end %>
      <% end %>
    </div>
  </section>

  <!-- â•â• ACCÃˆS RAPIDES â•â• -->
  <section class="home-section">
    <h2 class="home-section-title">âš¡ AccÃ¨s rapides</h2>
    <div class="home-quick-grid">

      <a href="/glossaire" class="home-quick-card hqc-purple">
        <div class="hqc-icon">ğŸ“–</div>
        <div class="hqc-title">Glossaire</div>
        <div class="hqc-stat"><%= @glossary_count %> termes</div>
        <div class="hqc-desc">Tous les termes clÃ©s du ML avec dÃ©finition, code et lien vers le workflow</div>
      </a>

      <a href="/methodes" class="home-quick-card hqc-cyan">
        <div class="hqc-icon">âš™ï¸</div>
        <div class="hqc-title">MÃ©thodes ML</div>
        <div class="hqc-stat"><%= @methods_count %> mÃ©thodes</div>
        <div class="hqc-desc">.fit(), .transform(), .predict() â€” la logique unifiÃ©e</div>
      </a>

      <a href="/quiz" class="home-quick-card hqc-green">
        <div class="hqc-icon">ğŸ§ª</div>
        <div class="hqc-title">Quiz</div>
        <div class="hqc-stat"><%= @quiz_count %> questions</div>
        <div class="hqc-desc">Teste tes connaissances par catÃ©gorie ou difficultÃ©</div>
      </a>

      <div class="home-quick-card hqc-yellow" style="cursor:pointer" onclick="document.getElementById('searchTrigger').click()">
        <div class="hqc-icon">ğŸ”</div>
        <div class="hqc-title">Recherche</div>
        <div class="hqc-stat">âŒ˜K</div>
        <div class="hqc-desc">Chercher un terme, une mÃ©thode ou un workflow instantanÃ©ment</div>
      </div>

    </div>
  </section>

  <!-- â•â• LA RÃˆGLE D'OR â•â• -->
  <section class="home-section">
    <div class="home-golden">
      <h3>ğŸ”‘ Les 4 rÃ¨gles d'or du Data Scientist</h3>
      <div class="home-golden-grid">

        <div class="golden-rule">
          <div class="golden-num">1</div>
          <div>
            <div class="golden-title">Split d'abord, fit ensuite</div>
            <div class="golden-text">Toujours sÃ©parer train/test AVANT tout preprocessing. Sinon, data leakage garanti.</div>
          </div>
        </div>

        <div class="golden-rule">
          <div class="golden-num">2</div>
          <div>
            <div class="golden-title">fit sur le train, transform sur le test</div>
            <div class="golden-text"><code>fit_transform(X_train)</code> puis <code>transform(X_test)</code>. Jamais de fit sur le test.</div>
          </div>
        </div>

        <div class="golden-rule">
          <div class="golden-num">3</div>
          <div>
            <div class="golden-title">Train â‰ˆ Test = bon modÃ¨le</div>
            <div class="golden-text">Train >> Test = overfitting. Train â‰ˆ Test â‰ˆ mauvais = underfitting. L'Ã©quilibre est la clÃ©.</div>
          </div>
        </div>

        <div class="golden-rule">
          <div class="golden-num">4</div>
          <div>
            <div class="golden-title">L'accuracy ment sur les classes dÃ©sÃ©quilibrÃ©es</div>
            <div class="golden-text">95% de non-fraudeurs â†’ accuracy 95% en prÃ©disant toujours "non". Regarde precision, recall, F1.</div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- â•â• TOUS LES WORKFLOWS â•â• -->
  <section class="home-section">
    <h2 class="home-section-title">ğŸ“š Tous les workflows</h2>
    <div class="home-wf-grid">
      <% @workflows.each do |w| %>
        <a href="<%= workflow_path(w[:slug]) %>" class="home-wf-card">
          <span class="home-wf-icon"><%= w[:icon] %></span>
          <div class="home-wf-info">
            <div class="home-wf-title"><%= w[:title] %></div>
            <div class="home-wf-sub"><%= w[:subtitle] %></div>
          </div>
          <span class="home-wf-badge badge-<%= w[:badge_color] %>"><%= w[:badge] %></span>
        </a>
      <% end %>
    </div>
  </section>

</div>
